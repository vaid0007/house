RewriteEngine On

# =========================
# 1️⃣ Redirect index & index.php to folder root
# =========================
RewriteRule ^index(\.php)?$ ./ [R=301,L]

# =========================
# 2️⃣ Redirect .php URLs to clean URLs
# =========================
RewriteCond %{THE_REQUEST} \s/+(.*)\.php[\s?] [NC]
RewriteRule ^ %1 [R=301,L]

# =========================
# 3️⃣ Internally map clean URLs to .php
# =========================
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.+)$ $1.php [L]

# =========================
# 4️⃣ Default index file
# =========================
DirectoryIndex index.php